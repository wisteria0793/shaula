# テスト計画書

### テストの目的
テストを行い、主要機能における動作を保証する。
テスト工程について、どのような考え方、取り組み方、ツールの使用方法などを理解し、実践力を培う

### テストの種類
- APIテスト
    - API機能を作成したら、随時ユニットテストを行い、意図した動作をするか検証する
    - 複数のAPIと連携する場合は、ユニットテスト・コンポーネントテストを行い、検証する

- E2Eテスト
    - 主要な機能を実装し、UI/UXも作成したら、ツールを使用し、動作を確認する

### 使用ツール
現状特に決めてはいないが、デファクトスタンダートとなっているツールを使用することとする。

### テストの完了条件
- 計画したテストケースを全て実施し、致命的な不具合がないこと
- 妥当性確認を無事終えたこと

### テストケースの作成方法
- Markdown形式で*docks/test/*に各テストの要件や対象を明確にする
- テスト内容、手順、期待する結果、実際の結果、実施日時等をまとめ、検証可能にすること

記載する内容の例:
   * タイトル: 不具合の内容を簡潔に。（例：【施設登録】名前が256文字以上だとサーバーエラーになる）
   * 再現手順: どうすればその不具合が起きるか、具体的な手順を1から書きます。
   * 期待される振る舞い: 本来どうあるべきだったか。
   * 実際の振る舞い: 実際に何が起きたか。（スクリーンショットやエラーログを添付すると完璧です）
   * 環境: 不具合が起きた環境。（例：ブラウザ: Chrome 108, OS: macOS）




---
QA視点を取り入れた理想的な開発フロー

基本方針は「各機能の開発サイクルに、テストを密接に連携させること」です。

1. 機能の要件定義・設計フェーズ
開発者がコードを書き始める前からQAの視点を入れます。

* 質問による仕様の明確化:
    * 開発者に対して「この機能の正常系・異常系は？」「入力値の制限は？（文字数、形式など）」「エラー時はどんなメッセージを出す？」といった質問を投げかけ
        、仕様の曖昧さをなくします。
    * 例：「施設情報の登録時、名前が空欄だったらどうなりますか？」
* テスト計画の作成:
    * 仕様が固まった時点で、どのようなテストケースが必要か（正常系、境界値、異常系など）を洗い出しておきます。これにより、開発者はテストされることを意識
        しながら実装できます。

2. バックエンド開発フェーズ
APIが完成した時点で、UIがなくてもすぐにテストを開始します。

* APIテストの実施:
    * PostmanやInsomniaのようなツールを使い、APIが仕様通りに動作するかを単体でテストします。
    * 例：施設登録APIに対し、「正常なデータをPOSTする」「不正なデータをPOSTする」「必須項目を空でPOSTする」などのリクエストを送り、レスポンスコードやデ
        ータが正しいかを確認します。
* ユニットテストの推奨:
    * 開発者が書く単体テスト（ユニットテスト）が、重要なロジックをカバーしているかを確認・レビューします。QAエンジニアが直接書くことは少ないですが、「こ
        このロジックは複雑なので、テストを厚めに書いてほしい」とフィードバックすることは非常に価値があります。

3. フロントエンド開発フェーズ
UIがAPIと結合されたら、ユーザーの視点でテストします。

* E2E（End-to-End）テストの実施:
    * ユーザーの一連の操作をシミュレートし、機能全体が正しく動作するかを確認します。
    * 例：「ユーザーがログインし、施設を登録し、一覧に表示される」という一連の流れをテストします。
* 手動テストと自動テストの組み合わせ:
    * 最初は手動でテストして使い勝手やデザインを確認しつつ、繰り返し行う操作はCypressやPlaywrightのようなツールでE2Eテストとして自動化していきます。

4. CI/CDパイプラインへの統合
品質保証のプロセスを自動化します。

* テストの自動実行:
    * 開発者が新しいコードをリポジトリにプッシュした際、ユニットテストやE2Eテストが自動で実行される環境（CI: 継続的インテグレーション）を構築します。
* 自動リグレッションテスト:
    * 新しい機能を追加したことで、既存の機能が壊れていないか（リグレッション）を自動テストで常にチェックできるようにします。
